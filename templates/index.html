{% extends "layout.html" %}

{% block title %}

    Index

{% endblock %}

{% block main %}
    <section class="table-container">
        <table class="global-cases">
            <caption>Covid-19: Global Cases</caption>
            <thead>
                <tr>
                    <th scope="col">World Population</th>
                    <th scope="col">Confirmed</th>
                    <th scope="col">%</th>
                    <th scope="col">Recovered</th>
                    <th scope="col">%</th>
                    <th scope="col">Death</th>
                    <th scope="col">%</th>
                </tr>
            </thead>
            <tbody>
                {% for case, location in global_cases.items() %}
                <tr>
                    <td>{{ location["population"] | mil }}</td>
                    <td>{{ location["confirmed"] | mil }}</td>
                    <td>{{ "%.2f" | format((location["confirmed"] / location["population"]) * 100) }}%</td>
                    <td>{{ location["recovered"] | mil }}</td>
                    <td>{{ "%.2f" | format((location["recovered"] / location["confirmed"]) * 100) }}%</td>
                    <td>{{ location["deaths"] | mil }}</td>
                    <td>{{ "%.2f" | format((location["deaths"] / location["confirmed"]) * 100) }}%</td>
                </tr>
                    {% endfor %}
            </tbody>
        </table>
    </section>
    <section class="table-container">
        <table class="global-vaccines">
            <caption>Covid-19: Global Vaccination Data</caption>
            <thead>
                <tr>
                    <th scope="col">World Population</th>
                    <th scope="col">Administrated</th>
                    <th scope="col">Totally Vaccinated</th>
                    <th scope="col">%</th>
                    <th scope="col">Partially Vaccinated</th>
                    <th scope="col">%</th>
                </tr>
            </thead>
            <tbody>
                {% for vaccinated, location in global_vaccination.items() %}
                <tr>
                    <td>{{ location["population"] | mil }}</td>
                    <td>{{ location["administered"] | mil }}</td>    
                    <td>{{ location["people_vaccinated"] | mil }}</td>
                    <td>{{ "%.2f" | format((location["people_vaccinated"] / location["population"]) * 100) }}%</td>
                    <td>{{ location["people_partially_vaccinated"] | mil }}</td>
                    <td>{{ "%.2f" | format((location["people_partially_vaccinated"] / location["population"]) * 100) }}%</td>
                </tr>
                    {% endfor %}
            </tbody>
        </table>
    </section>
{% endblock %}